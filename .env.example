# Node environment
NODE_ENV=development

# Server configuration
PORT=3001
LOG_LEVEL=debug
# Trust proxy for proper IP detection (1=single proxy, true=any, or specific IPs)
# Required when behind nginx, ELB, Cloudflare, etc.
TRUST_PROXY=1

# Redis configuration
REDIS_URL=redis://localhost:6379
REDIS_KEY_PREFIX=stepper:

# Cache configuration
CACHE_TTL_SECONDS=604800
CACHE_STALE_THRESHOLD=86400
CACHE_STALE_WHILE_REVALIDATE=true

# Queue configuration
QUEUE_NAME=report-generation
QUEUE_CONCURRENCY=5

# Retry configuration
RETRY_MAX_ATTEMPTS=3
RETRY_BASE_DELAY_MS=500
RETRY_MAX_JITTER_MS=300
RETRY_RATE_LIMIT_FALLBACK=7200

# Circuit breaker configuration
CIRCUIT_FAILURE_THRESHOLD=5
CIRCUIT_WINDOW_SECONDS=300
CIRCUIT_COOLDOWN_SECONDS=300

# Security - Sensitive Data Redaction
REDACT_BEFORE_SEND=true

# Security - CORS (Cross-Origin Resource Sharing)
CORS_ENABLED=true
CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://app.yourdomain.com
CORS_ALLOW_CREDENTIALS=false

# Security - Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_MAX_PER_USER=50
RATE_LIMIT_SKIP_HEALTH=true

# Security - Helmet (Security Headers)
HELMET_ENABLED=true

# Security - API Key Authentication
API_KEY_ENABLED=false
API_KEY_HEADER=x-api-key
STEPPER_API_KEY=your_secret_api_key_here
API_KEY_SKIP_HEALTH=true

# Alerts (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your_webhook_url

# --- Provider Configurations ---

# Hugging Face Space
HF_SPACE_ENABLED=true
HF_SPACE_URL=https://your-space-name.hf.space
HF_SPACE_API_KEY=your_hf_api_key_here
HF_SPACE_RPS=3
HF_SPACE_CONCURRENCY=1
HF_SPACE_TIMEOUT=30000

# Google Gemini
GEMINI_ENABLED=false
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_BASE_URL=https://generativelanguage.googleapis.com
GEMINI_MODEL=gemini-pro
GEMINI_RPS=10
GEMINI_CONCURRENCY=4
GEMINI_TIMEOUT=15000

# OpenAI
OPENAI_ENABLED=false
OPENAI_API_KEY=your_openai_key_here
OPENAI_BASE_URL=https://api.openai.com
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_TIMEOUT=30000
OPENAI_RPS=5
OPENAI_CONCURRENCY=2

# Anthropic Claude
ANTHROPIC_ENABLED=false
ANTHROPIC_API_KEY=your_anthropic_key_here
ANTHROPIC_BASE_URL=https://api.anthropic.com
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022
ANTHROPIC_TIMEOUT=30000
ANTHROPIC_RPS=5
ANTHROPIC_CONCURRENCY=2

# Cohere
COHERE_ENABLED=false
COHERE_API_KEY=your_cohere_key_here
COHERE_BASE_URL=https://api.cohere.ai
COHERE_MODEL=command-r-plus
COHERE_TIMEOUT=20000
COHERE_RPS=5
COHERE_CONCURRENCY=2

# DeepSeek
DEEPSEEK_ENABLED=false
DEEPSEEK_API_KEY=your_deepseek_key_here
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat
DEEPSEEK_TIMEOUT=20000
DEEPSEEK_RPS=5
DEEPSEEK_CONCURRENCY=2

# Groq
GROQ_ENABLED=false
GROQ_API_KEY=your_groq_key_here
GROQ_BASE_URL=https://api.groq.com/openai
GROQ_MODEL=mixtral-8x7b-32768
GROQ_TIMEOUT=10000
GROQ_RPS=10
GROQ_CONCURRENCY=4

# OpenRouter
OPENROUTER_ENABLED=false
OPENROUTER_API_KEY=your_openrouter_key_here
OPENROUTER_BASE_URL=https://openrouter.ai/api
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet
OPENROUTER_TIMEOUT=30000
OPENROUTER_RPS=5
OPENROUTER_CONCURRENCY=2
OPENROUTER_REFERER=https://commitdiary.com
OPENROUTER_TITLE=CommitDiary Stepper

# Mistral AI
MISTRAL_ENABLED=false
MISTRAL_API_KEY=your_key
MISTRAL_BASE_URL=https://api.mistral.ai
MISTRAL_MODEL=mistral-large-latest
MISTRAL_TIMEOUT=15000
MISTRAL_RPS=5
MISTRAL_CONCURRENCY=2

# Perplexity AI
PERPLEXITY_ENABLED=false
PERPLEXITY_API_KEY=your_key
PERPLEXITY_BASE_URL=https://api.perplexity.ai
PERPLEXITY_MODEL=llama-3.1-sonar-large-128k-online
PERPLEXITY_TIMEOUT=20000
PERPLEXITY_RPS=5
PERPLEXITY_CONCURRENCY=2

# Together AI
TOGETHER_ENABLED=false
TOGETHER_API_KEY=your_key
TOGETHER_BASE_URL=https://api.together.xyz
TOGETHER_MODEL=meta-llama/Meta-Llama-3.1-70B-Instruct-Turbo
TOGETHER_TIMEOUT=20000
TOGETHER_RPS=5
TOGETHER_CONCURRENCY=2